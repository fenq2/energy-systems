const heroSlider = new Swiper('.hero-slider__container', {
	// autoplay: {
	//   delay: 2500,
	//   disableOnInteraction: false,
	// },
	effect: 'fade',
	pagination: {
		el: '.hero-slider__pagination',
		clickable: true,
	},
});

const sandwichMenu = function () {
	$('.sandwich__open-btn--nav').click(() => {
		$('.main-nav').toggleClass('main-nav--opened');
	});

	$('.sandwich__open-btn').click(function () {
		$(this).toggleClass('sandwich__open-btn--opened');
	});

	if (window.innerWidth < 680) {
		$('.sandwich__open-btn').addClass('sandwich__open-btn--mobile').removeClass('sandwich__open-btn--nav');
	}
};

const mobileMenu = function () {
	$('.header .sandwich__open-btn--mobile.sandwich__open-btn--main').click(() => {
		$('.header .mobile-menu--main').toggleClass('mobile-menu--opened');
		$('body').toggleClass('overflow');
	});

	$('.header .sandwich__open-btn--mobile.sandwich__open-btn--fixed').click(() => {
		$('.header.header--sticky .mobile-menu--fixed').toggleClass('mobile-menu--opened');
		$('body').toggleClass('overflow');
	});

	// Открытие второго уровня меню

	$('.mobile-nav__item').click(function () {
		$(this).children('.mobile-submenu').addClass('mobile-submenu--opened');
		return false;
	});

	$('.mobile-menu__close').click(function () {
		$(this).closest('.mobile-submenu').removeClass('mobile-submenu--opened');
		return false;
	});
};

const stickyHeader = function () {
	// Создание липкой шапки при скролле (клон основной)

	const header = $('.header'),
		cloneHeader = header.clone();
	cloneHeader.addClass('header--sticky');

	// Добавление классов кнопки и меню для различия от основной
	cloneHeader.find('.sandwich__open-btn').addClass('sandwich__open-btn--fixed').removeClass('sandwich__open-btn--main');
	cloneHeader.find('.mobile-menu').addClass('mobile-menu--fixed').removeClass('mobile-menu--main');

	header.before(cloneHeader);

	// Появление липкой шапки при скролле

	$(window).scroll(() => {
		if ($(window).scrollTop() > 150) {
			cloneHeader.addClass('header--is-show');
		} else {
			cloneHeader.removeClass('header--is-show');
		}
	});
};

stickyHeader();
sandwichMenu();
mobileMenu();